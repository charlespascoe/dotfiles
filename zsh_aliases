#!/bin/zsh

alias ea='vim ~/.zsh_aliases && . ~/.zsh_aliases'

# Docker
alias doc=docker

# Git
alias x=git
alias xut='x u && x u --tags'
alias ci='EDITOR="vim -c ShowDiff -c startinsert!" git ci'
alias cs='git add -p'

# Tmux
alias start-ssh-agent='killall -q ssh-agent; eval `ssh-agent` && ssh-add'
alias stop-ssh-agent='killall ssh-agent'

alias start-gpg-agent='killall -q gpg-agent; eval `gpg-agent --daemon --options ~/.dotfiles/gpg-agent.conf`'
alias stop-gpg-agent='killall gpg-agent'

alias dev='start-ssh-agent && start-gpg-agent && tm dev'

alias tmls='tmux ls'
tm() { tmux -u attach -t $1 || tmux -u new -s $1; }
alias tsb='tmux show-buffer'

# Make
alias m=make
compdef _make m

# Vim
source ~/.dotfiles/vim_aliases

alias drr='vim -c "cd ~/drafts/" -c "au BufUnload <buffer> ExportRTFToClipboard" -c "startinsert" ~/drafts/`date +"%F_%H:%M:%S"`.bn'

dr() {
    ext=${1:-bn};
    vim -c "cd ~/drafts/" -c "au BufUnload <buffer> ExportToClipboard" -c "startinsert" ~/drafts/`date +"%F_%H:%M:%S"`.$ext
}

## Edit dictation substitutions
alias eds='vim -c "au BufUnload <buffer> DictationReloadSubstitutions" ~/.vim-conf/dictation_substitutions'


# Edit Serenade Custom Commands
alias esc='vim /Users/charles/.serenade/scripts/custom.js'

# Utils
alias c='clear'
alias n=g
alias hc='history -c'
alias ls='/opt/homebrew/bin/gls -lh --color=always --group-directories-first'
alias py='python3'
alias pr='ptpython'
alias copy=pbcopy
alias paste=pbpaste
alias sha256='openssl dgst -sha256'
alias td='nd ~/temp/`date +"%Y-%m-%d"`'
nd() { mkdir -p $1; cd $1; }

re() {
    e scp://$1/$2
}
