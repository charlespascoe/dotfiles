rules:
  - desc: 'Command-L to Lock'
    from:
      key_code: l
      modifiers: [command]
    to:
      key_code: q
      modifiers: [command, control]

  - desc: 'Change Shift+Delete to Delete'
    from:
      key_code: delete_or_backspace
      modifiers: [shift]
    to:
      key_code: delete_or_backspace

  - desc: 'Change Ctrl-. to Ctrl-z in Alacritty'
    from:
      key_code: period
      modifiers: [control]
    to:
      key_code: z
      modifiers: [control]
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  - desc: 'Change Ctrl-z to No-op in Alacritty'
    from:
      key_code: z
      modifiers: [control]
    to:
      key_code: vk_none
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  # TODO: Remove this after updating keyboard layouts
  - desc: 'Map Ctrl-Backspace to Ctrl-W in Alacritty'
    from:
      key_code: delete_or_backspace
      modifiers: [control]
    to:
      key_code: w
      modifiers: [left_control]
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  # TODO: Remove this after updating keyboard layouts
  - desc: 'Map Ctrl-Backspace to Option-Backspace'
    from:
      key_code: delete_or_backspace
      modifiers: [control]
    to:
      key_code: delete_or_backspace
      modifiers: [option]
    conditions:
      frontmost_application_unless: ['^io\.alacritty$']

  - desc: 'Map Option-Backspace to Ctrl-W in Alacritty'
    from:
      key_code: delete_or_backspace
      modifiers: [option]
    to:
      key_code: w
      modifiers: [left_control]
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  - desc: 'Map Command-D to Ctrl-D for dictation in Vim'
    from:
      key_code: d
      modifiers: [command]
    to:
      key_code: d
      modifiers: [left_control]
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  - desc: 'Map Command-Up to Command-Plus'
    from:
      key_code: up_arrow
      modifiers: [command]
    to:
      key_code: keypad_plus
      modifiers: [command]

  - desc: 'Map Command-Down to Command-Minus'
    from:
      key_code: down_arrow
      modifiers: [command]
    to:
      key_code: keypad_hyphen
      modifiers: [command]

  # - desc: 'Map Command-` to Command-Tab'
  #   from:
  #     key_code: grave_accent_and_tilde
  #     modifiers: [command]
  #   to:
  #     key_code: tab
  #     modifiers: [left_command]

  - desc: 'Map Command-E to Escape in Alacritty'
    from:
      key_code: e
      modifiers: [command]
    to:
      key_code: escape
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  - desc: 'Map Alt-I to Ctrl-y in Terminal (for snippets)'
    from:
      key_code: i
      modifiers: [option]
    to:
      key_code: y
      modifiers: [left_control]
    conditions:
      frontmost_application_if: ['^io\.alacritty$']

  - desc: 'Map F19 to Alt-Space for Serenade'
    from:
      key_code: f19
    to:
      key_code: spacebar
      modifiers: [option]

  - desc: 'Map End to Ctrl-E'
    from:
      key_code: end
      modifiers: []
    to:
      key_code: e
      modifiers: [control]
    conditions:
      frontmost_application_unless: ['^io\.alacritty$']

  - desc: 'Make Escape clear Capslock'
    from:
      key_code: escape
      modifiers: [caps_lock]
    to:
      key_code: caps_lock
